(function(a){a.fn.slideScroller=function(b){var d={delimiter:"scrollerContained",nextBtnTxt:"Next",prevBtnTxt:"Previous",pathToJplayerSwf:"../lib/jPlayer/v20/",animDuration:800,buttonAssistDuration:1200,heightOfControlIcon:52};if(b){a.extend(d,b)}var c={currentPanel:null,buttonIsHereTimer:null,jPlayerAndScriptsDelayStore:null,enableNaviControls:true};if(this.length>1){return this}return this.each(function(){var g=a(this),C=a(this).parent(),f=0,e=0,u=a(".panel",a(this)),o,l=d.pathToJplayerSwf;g.css({position:"absolute",top:0,left:0});if(C.attr("id")!=d.delimiter){g.add("#navi").wrapAll('<div id="bodyDoppleganor" />');C=g.parent()}C.removeClass("default-view").addClass("scroller-view");h(true);var B=a('<div id="orientingBar"><p class="visually_hidden">jump to: </p><ul></ul></div>');var k=0;for(var z=0,y=u.length;z<y;z++){u.eq(z).data("dex",z);k=(z+1);a("ul",B).append('<li><a href="#p'+k+'">'+k+"</a></li>")}B.on("click.slideScroller","a",s);a("#navi").append(B);function v(J,E){var G=a('<div class="controls"></div>');var K,i,D,I=false;var F=u.length;var H=u.filter(J).data("dex");if(u.eq(H).find("div.controls").length==1){I=true;D=u.eq(H).find("div.controls")}else{I=false;D=G.clone()}if(H>=0&&H<(F-1)){K=t("forward",d.nextBtnTxt,"#"+u.eq(H+1).attr("id"));D.append(K)}if(H>0&&H<=(F-1)){i=t("reverse",d.prevBtnTxt,"#"+u.eq(H-1).attr("id"));D.prepend(i)}if(!I){u.eq(H).append(D)}u.eq(H).find(".controls a:not(.jump a)").one("click.slideScroller",s);u.eq(H).find(".controls .jump, .controls .jump a").css("height",e+"px");setTimeout(function(){u.eq(H).find(".controls .forward, .controls .reverse").not(".jump").slideDown(400);c.enableNaviControls=true;A(u.eq(H).find(".controls .forward"))},600)}function t(j,D,i){return a('<div class="'+j+'" style="display:none;height:'+e+'px"><a href="'+i+'" style="height:'+e+'px"><span>'+D+"</span></a></div>")}function A(i){i.animate({opacity:"-=.5"},350);i.animate({opacity:"+=.5"},300,function(){c.buttonIsHereTimer=setTimeout(function(){A(i)},d.buttonAssistDuration)})}function m(D){var i=a("#navi li.current");if(i.length==1){i.removeClass("current")}var j=u.filter(D).data("dex");a("#navi li a").eq(j).hide();a("#navi li").eq(j).addClass("current");a("#navi li a").eq(j).fadeIn(150)}function s(E){E.preventDefault();if(c.enableNaviControls){c.enableNaviControls=false;var j=this.getAttribute("href");var D=j.substring(j.search("#"));var i=u.filter(c.currentPanel).data("dex");var G=parseInt(j.substring(j.search("p")+1));if(G!=i+1){if(typeof c.initAudioDelayStore=="number"){clearTimeout(c.initAudioDelayStore)}if(typeof c.jPlayerAndScriptsDelayStore=="number"){clearTimeout(c.jPlayerAndScriptsDelayStore)}clearTimeout(c.buttonIsHereTimer);var F=null;if(a(this).parent().hasClass("forward")){F="forward"}else{if(a(this).parent().hasClass("reverse")){F="reverse"}}n(D,d.animDuration,i,F)}}}function n(j,D,i,F){var E=u.eq(i);E.focus();c.currentPanel=j;if(!D){D=0}if(i===null){c.jPlayerAndScriptsDelayStore=setTimeout(function(){w(j);v(j,true);q(j);c.jPlayerAndScriptsDelayStore=null},600);m(j)}else{E.find(".jp-jplayer").each(function(){r(a(this))});E.find(".embeddedswfobject").each(function(){swfobject.removeSWF(a(this).attr("id"))});E.find(".controls .forward, .controls .reverse").not(".jump").remove();g.animate({left:a(j).position().left*-1},D,function(){var G=PSS.getCloneBin()||false;if(G){u.eq(i).replaceWith(PSS.getCloneBin());u=a(".panel",g)}c.jPlayerAndScriptsDelayStore=setTimeout(function(){w(j);v(j,false);q(j);c.jPlayerAndScriptsDelayStore=null},600);m(j)})}}function w(j){if(window.PSS&&typeof PSS.getCloneBin==="function"){var i=u.filter(j).data("dex");var D=u.eq(i).find(".jp-wrapper");if(PSS.isScriptAtSlide(i)||D.length>0){PSS.setCloneBin(u.eq(i).clone(true));if(PSS.isScriptAtSlide(i)){PSS.runScriptForSlide(i,u.eq(i))}}}}function h(){if(a("#bodyDoppleganor").length===1){C.width(a(window).width());C.height(a(window).height())}f=C.width();e=C.height();var j=u.length;var i=parseInt(a(".panel").css("padding-left"))+parseInt(a(".panel").css("padding-right"));var D=parseInt(a(".panel").css("padding-top"))+parseInt(a(".panel").css("padding-bottom"));g.width(f*j).height(e);u.width(f-i).height(e-D)}function x(D){var E=D.curBgPos.split(" ");var j=parseInt(E[0]);var i=parseInt(E[1]);return(D.neoLeft||j)+D.unitType+" "+(D.neoTop||i)+D.unitType}function q(D){var j=u.filter(D).data("dex");var i="",F={};var E=u.eq(j).find(".jp-wrapper");if(E.length>0){E.each(function(I){var J=a(this).clone();a(this).empty();var H=J.find(".jp-data-audio");var G=H.find(".jp-source");G.each(function(K){if(!K){i=a(".jp-format",a(this)).text()}else{i=i+", "+a(".jp-format",a(this)).text()}F[a(".jp-format",a(this)).text()]=a(".jp-fname",a(this)).text()});a(this).html('<div id="jp_jplayer_'+I+'" class="jp-jplayer"></div><div class="jp-audio"><div class="jp-type-single"><div id="jp_interface_'+I+'" class="jp-interface"><ul class="jp-controls"><li><a href="#" class="jp-play" tabindex="1">play</a></li><li><a href="#" class="jp-pause" tabindex="1">pause</a></li><li><a href="#" class="jp-stop" tabindex="1">stop</a></li><li><a href="#" class="jp-mute" tabindex="1">mute</a></li><li><a href="#" class="jp-unmute" tabindex="1">unmute</a></li></ul><div class="jp-progress"><div class="jp-seek-bar"><div class="jp-play-bar"></div></div></div><div class="jp-volume-bar"><div class="jp-volume-bar-value"></div></div><div class="jp-current-time"></div><div class="jp-duration"></div></div></div></div>');a("#jp_jplayer_"+I).jPlayer({ready:function(){a(this).jPlayer("setMedia",F).jPlayer("option","cssSelectorAncestor","#jp_interface_"+I).jPlayer("volume",1).jPlayer("play")},solution:"html, flash",swfPath:l,supplied:i})})}}function r(D){var i=D.data("jPlayer").status.media;var j='<div class="jp-data-audio">';for(prop in i){j=j+'<span class="jp-source"><span class="jp-fname">'+i[prop]+'</span><span class="jp-format">'+prop+"</span></span>"}j=j+"</div>";D.jPlayer("stop");D.jPlayer("destroy");$jpwrapper=D.parent();$jpwrapper.empty();$jpwrapper.html(j)}function p(){return((navigator.platform.indexOf("iPhone")!=-1)||(navigator.platform.indexOf("iPod")!=-1)||(navigator.platform.indexOf("iPad")!=-1))}if(C.parent().get(0)===a("body").get(0)){a(window).bind("resize.slideScroller",function(){h()})}n("#p1",null,null,null)})}})(jQuery);jQuery(window).load(function(){jQuery("#loadinganim").remove();jQuery(".panel").show()});