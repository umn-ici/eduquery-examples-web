/*! All rights reserved Research and Training Center on Community Living (RTC) at the University of Minnesota (rtcweb@umn.edu) */
/*! Author : Shawn Lawler */
"use strict";var ShowMore=function(a){this.init(a)};ShowMore.prototype.instanceCount={count:0},ShowMore.prototype.showMoreClickHandler=function(a){if("keydown"==a.type&&13!=a.which&&32!=a.which)return!0;a.preventDefault();var b=$(this).parent(),c=b.next("dd"),d=b.siblings("dt");d.length>0&&d.each(function(){var a=$(this);a.hasClass("showmore-show")&&(a.find("a").attr({"aria-pressed":"false","aria-expanded":"false"}),a.next("dd").slideUp(300,function(){a.removeClass("showmore-show")}))}),b.hasClass("showmore-show")?($(this).attr({"aria-pressed":"false","aria-expanded":"false"}),c.slideUp(300,function(){b.removeClass("showmore-show"),$(this).focus()})):(b.addClass("showmore-show"),$(this).attr({"aria-pressed":"true","aria-expanded":"true"}),c.slideDown(300,function(){c.focus()}))},ShowMore.prototype.init=function(a){this.$container=$(a).addClass("showmore-ui").attr({role:"region","aria-label":"Expandable content interactive exercise. Please use the highest (beginner) verbosity setting in your screen reading software."});var b=this.instanceCount.count;0===$("dt > a",this.$container).length&&$("dt",this.$container).each(function(a){var c="instance"+b+"item"+a;$(this).wrapInner('<a href="#" id="'+c+'" class="showmore-control" role="button" aria-pressed="false" aria-expanded="false"></a>'),$(this).next("dd").attr({tabindex:"0",role:"region","aria-labelledby":c})}),this.instanceCount.count++,this.$container.on("click.SHOWMORE, keydown.SHOWMORE","a.showmore-control",this.showMoreClickHandler)},$(function(){var a=[];$(".showmore").each(function(){a.push(new ShowMore($(this)))})});